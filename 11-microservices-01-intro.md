# Домашнее задание к занятию "11.01 Введение в микросервисы"

## Задача 1: Интернет Магазин

Руководство крупного интернет магазина у которого постоянно растёт пользовательская база и количество заказов рассматривает возможность переделки своей внутренней ИТ системы на основе микросервисов. 

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру. 

Опишите какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы необходимо будет решить в первую очередь.


### Ответ:

Микросервисная архитектура помогает ускорить разработку и сделать её более гибкой и управляемой.
Это значит, что за разработку каждого микросервиса отвечает своя команда разработки и эксплуатации, соответственно, если нет внешних ограничений эта команда может реализовать микросервис на удобном ей (более подходящем под задачу) стеке технологий. Микрсервис это своеобразный черный ящик, общение с которым, другие части системы (тоже микросервисы), ведут через api-запросы.

#### Выгоды:
- Масштабироваться легче.
- Выше отказоустойчивость (при грамотной реализации).
- Простота обслуживания. Микросервисы проще тестировать и отлаживать. 
- Шире выбор инструментов, технологий.

#### Следующие проблемы потребуется решить в первую очередь:

- Эксплуатация. В первую очередь, необходимо настроить мониторинг технических и бизнес показателей. Организовать сбор и обработку логов. Это необходимо сделать, т.к. контейнеров может быть очень много и без мониторинга и структурированного логгирования сложно понять, насколько "здорова" система

- Также потребуется автоматизировать процессы оркестрации, тестирования и деплоя т.к. вручную обслуживать десятки, а то и сотни машин просто физически невозможно.

- Возможно потребуется ограничить использование языков разработки и технологий, чтобы не допустить появления "зоопарка". Это частный случай, хотел отразить слова Криса Ричардсона - "Немаловажным аспектом является то, что микросервисная архитектура устраняет любую долгосрочную зависимость от стека технологий. В принципе, при создании нового сервиса разработчики могут выбрать наиболее подходящие язык и фреймворки. Во многих организациях этот выбор ограничен, но смысл в том, что вы не зависите от принятых ранее решений" (Микросервисы. Паттерны разработки и рефакторинга. стр. 44). 

- Обратить внимание на организацию аутентификации и авторизации, поскольку есть вероятность подсоединения мошенников (из-за большого числа узлов). 

- Проработать вопросы отказоустойчивости системы и ее частей.
- Наладить взаимодействие и коммуникацию между командами, обслуживающими микросервисы.




### Доработка.
#### Микросервисная архитектура имеет следующие преимущества.
- Она делает возможными непрерывные доставку и развертывание крупных, сложных приложений.
- Сервисы получаются небольшими и простыми в обслуживании.
- Сервисы развертываются независимо друг от друга.
- Сервисы масштабируются независимо друг от друга.
- Микросервисная архитектура обеспечивает автономность команд разработчиков.
- Она позволяет экспериментировать и внедрять новые технологии, подходящие конкретному сервису.
- В ней лучше изолированы неполадки, т.к. единая точка отказа отсутствует.

#### Недостатки микросервисной архитектуры. 
Основные недостатки и проблемы микросервисной архитектуры:
- Сложно подобрать подходящий набор сервисов.
- Сложность распределенных систем затрудняет разработку, тестирование и развертывание - сервисы должны использовать механизм межпроцессного взаимодействия.
Это сложнее, чем вызывать обычные методы. К тому же наш код должен уметь
справляться с частичными сбоями и быть готовым к недоступности или высокой
латентности удаленного сервиса
- Развертывание функций, охватывающих несколько сервисов, требует тщательной координации.
- Решение о том, когда следует переходить на микросервисную архитектуру, является нетривиальным.

#### Исходя из вышесказанного, в первую очередь потребуется решить: 
- Проблемы разработки
  - Cовместимость API - требует повышенного внимания.  
  - Версионирование артефактов - требуется четко понимать, какие версии, каких сервисов обрабатывают запросы пользователей.
  - Автоматизация сборки и тестирования - требуется для исключения рутинных операций и возможности обслуживать большое количество инстансов.
  - Документация - ее ведение позволит сократить затраты команд на коммуникации.
  - Инфраструктура разработки требует автоматизации, шаблонизации.

- Проблемы эксплуатации
  - Мониторинг - инстансов может быть очень много, требуется четко понимать, в каком состоянии сервисы.
  - Сбор логов - для решения возможных проблем и исправления ошибок
  - Управление настройками и инфраструктурой

Также потребуется разработать решение по разделению монолита на микросервисы, определить владельцев сервисов и способ межсервисного взаимодействия.
Не стоит доводить микросервисную архитектуру до наносервисной, необходимо соблюдать разумный баланс.
Ввиду того, что общая сложность системы возрастает, может потребоваться не одна команда разработки и эксплуатации микросервисов, количество задействованного оборудования тоже возрастет, это повлечет увеличение бюджета на инфраструктуру и на персонал.

---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
